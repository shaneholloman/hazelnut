# Hazelnut

> A beautiful terminal-based file organizer inspired by Hazel

Hazelnut is a Rust-based terminal application for automated file organization. Watch folders for changes and automatically organize files using flexible rules with actions like move, copy, rename, archive, delete, or run custom scripts.

## Quick Facts

- **Type:** Command-line application / TUI + Daemon
- **Language:** Rust
- **License:** GPL-3.0
- **Platforms:** macOS, Linux (daemon is Unix-only; TUI works on Windows)
- **Repository:** https://github.com/ricardodantas/hazelnut
- **Documentation:** https://hazelnut.ricardodantas.me/docs
- **Author:** Ricardo Dantas
- **Inspired by:** Hazel (macOS app)
- **Themes:** Powered by ratatui-themes (shared with Feedo)

## Installation

### Homebrew (macOS/Linux)
```bash
brew install ricardodantas/tap/hazelnut
```

### Cargo (all platforms)
```bash
cargo install hazelnut
```

### Binary Downloads
Pre-built binaries available at: https://github.com/ricardodantas/hazelnut/releases

## Key Features

- **Watch Folders**: Monitor directories for new and changed files in real-time
- **Flexible Rules**: Match files by name (glob/regex), extension, size, age
- **Smart Actions**: Move, copy, rename, archive, delete, or run custom scripts
- **Beautiful TUI**: Manage rules and monitor activity with 15 color themes
- **Background Daemon**: Runs quietly, processing files automatically
- **Desktop Notifications**: Get alerted on errors (cross-platform: Linux, macOS, Windows)
- **Auto-Update**: Built-in update checker with one-key update or `hazelnut update` CLI

## Architecture

Hazelnut has two binaries:
- `hazelnut` - The TUI for viewing status and managing rules
- `hazelnutd` - The background daemon that watches folders and applies rules

## Usage

```bash
# Start the daemon
hazelnutd start

# Launch the TUI
hazelnut

# Check daemon status
hazelnut status

# Stop the daemon
hazelnutd stop

# Check for updates
hazelnut update
```

## Configuration

Config file: `~/.config/hazelnut/config.toml` (same path on all platforms)

State files (PID, logs): `~/.local/state/hazelnut/`

### Example Configuration

```toml
[general]
theme = "dracula"
notifications_enabled = true  # Desktop notifications on errors

# Folders to watch
[[watch]]
path = "~/Downloads"
recursive = false

# Rule: Move screenshots to Pictures
[[rule]]
name = "Screenshots"

[rule.condition]
name_matches = "Screenshot*.png"

[rule.action]
type = "move"
destination = "~/Pictures/Screenshots"

# Rule: Clean old files
[[rule]]
name = "Clean old downloads"

[rule.condition]
age_days_greater_than = 30

[rule.action]
type = "trash"
```

## Condition Types

- `name_matches` - Glob pattern (e.g., "*.pdf")
- `name_regex` - Regular expression
- `extension` - File extension (e.g., "pdf")
- `size_greater_than` - Minimum file size
- `size_less_than` - Maximum file size
- `age_days_greater_than` - Files older than N days
- `age_days_less_than` - Files newer than N days

## Action Types

- `move` - Move file to destination
- `copy` - Copy file to destination
- `rename` - Rename file with pattern
- `archive` - Create zip archive
- `trash` - Move to system trash
- `delete` - Permanently delete
- `run` - Execute shell command

## Themes

15 themes available via ratatui-themes:
- Catppuccin (Mocha, Latte, Frappé, Macchiato)
- Dracula, Nord, Gruvbox Dark/Light
- Tokyo Night, Monokai Pro
- Solarized Dark/Light, One Dark
- Everforest, Rosé Pine

## Keyboard Shortcuts (TUI)

- `j`/`k`: Navigate
- `Tab`: Switch panels
- `n`: Create new rule
- `e`: Edit rule
- `d`: Delete rule
- `D`: Toggle daemon
- `t`: Theme picker
- `s`: Settings
- `U`: Update (if available)
- `L`: View logs
- `?`: Help
- `A`: About
- `q`: Quit

## Related Projects

- **Feedo**: Terminal RSS reader by the same author
- **ratatui-themes**: Shared theme library for both projects

## Links

- Website: https://hazelnut.ricardodantas.me
- GitHub: https://github.com/ricardodantas/hazelnut
- Issues: https://github.com/ricardodantas/hazelnut/issues
- Crates.io: https://crates.io/crates/hazelnut
